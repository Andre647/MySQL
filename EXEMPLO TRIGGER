DELIMITER //        /* DELIMITA QUE ELE COMECA ACABA COM // JA QUE USAREMOS O ; DENTRO DELE */
CREATE trigger TG_CALCULA_FATURAMENTO_INSERT        /* TABELA AUXILIAR COM O VALOR TOTAL( NESSE CASO SEPARADA POR DATA )
AFTER INSERT ON itens_notas /* DEPOIS DE PEGAR DA TABELA ORIGINAL ONDE O DADO FOI INSERIDO */
FOR EACH ROW BEGIN
	DELETE FROM TAB_FATURAMENTO;
    INSERT INTO TAB_FATURAMENTO             /* INSERE OS VALORES TOTAIS POR DATA */
    SELECT A.DATA_VENDA,SUM(B.QUANTIDADE * B.PRECO) AS TOTAL_VENDA FROM NOTAS A
    INNER JOIN ITENS_NOTAS B
    ON A.NUMERO = B.NUMERO
    GROUP BY A.DATA_VENDA;
END//
